%##############################################################################
% Packages
%##############################################################################

%<*tag1>
\usepackage{amsfonts,amssymb}              % Standard math packages
\usepackage{cancel}                        % Cancel things obliquely
\usepackage{centernot}                     % Not-divides symbol
\usepackage{color}                         % Colors
\usepackage{enumerate}                     % enumerate arguments
\usepackage{graphicx}                      % Import graphics
\usepackage{hyperref}                      % Linkable items
\hypersetup{colorlinks=true,urlcolor=blue}
\usepackage{listings}                      % Custom verbatim environment
\usepackage{mathrsfs}                      % \mathscr font
\usepackage{tikz}                          % Create graphics
%\usepackage{tikz-cd}                      % Commutative diagrams
\usetikzlibrary{patterns,shapes,snakes}
%\usepackage[usenames,dvipsnames,svgnames,table]{xcolor} %More colors!
%\usepackage{fontspec, xunicode}
%\setmonofont{Consolas}

% Emulate markdown's light grey background for monospace.
\usepackage{soul}
\definecolor{Light}{gray}{.96}
\sethlcolor{Light}
\let\OldTexttt\texttt
\renewcommand{\texttt}[1]{\OldTexttt{\hl{#1}}}% will affect all \texttt

% Use knitr's colorscheme.
\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\definecolor{hlnum}{rgb}{0.686,0.059,0.569}
\definecolor{hlstr}{rgb}{0.192,0.494,0.8}
\definecolor{hlcom}{rgb}{0.678,0.584,0.686}
\definecolor{hlopt}{rgb}{0,0,0}
\definecolor{hlstd}{rgb}{0.345,0.345,0.345}
\definecolor{hlkwa}{rgb}{0.161,0.373,0.58}
\definecolor{hlkwb}{rgb}{0.69,0.353,0.396}
\definecolor{hlkwc}{rgb}{0.333,0.667,0.333}
\definecolor{hlkwd}{rgb}{0.737,0.353,0.396}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}

\lstset{
  backgroundcolor=\color{shadecolor},
  basicstyle=\color{hlstd}\ttfamily\footnotesize,
  breakatwhitespace=false,
  %breaklines=true,
  captionpos=b,
  commentstyle=\color{hlcom},
  deletekeywords={...},
  escapeinside={\%*}{*)},
  extendedchars=true,
  frame=lines,
  keepspaces=true,
  keywordstyle=\color{hlkwb},
  morekeywords={*,...},
  numbers=left,
  numbersep=5pt,
  numberstyle=\tiny\color{hlstd},
  rulecolor=\color{hlstd},
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  stepnumber=1,
  stringstyle=\color{hlstr},
  tabsize=2,
  title=\lstname
}
%</tag1>

%##############################################################################
% Operator Macros
%##############################################################################

%<*tag2>
% "Given that" operator, with optional resizing argument
\makeatletter
\def\given{\@ifnextchar[{\@with}{\@without}}
\def\@with[#1]{\:#1\vert\:}
\def\@without{\:\vert\:}
\makeatother

%##############################################################################
% Theorem Macros
%##############################################################################

\theoremstyle{plain}
\newtheorem{thm}{Theorem}[]
\newtheorem{definition}[thm]{Definition}
\newtheorem{conjecture}[thm]{Conjecture}
%\newtheorem{problem}[thm]{Problem}
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{proposition}[thm]{Proposition}
\newtheorem{property}[thm]{Property}
\newtheorem{theorem}[thm]{Theorem}
\newtheorem{corollary}[thm]{Corollary}
\newtheorem{example}[thm]{Example}
\newtheorem{examples}[thm]{Examples}
\newtheorem{remark}[thm]{Remark}

\newtheorem{algorithm}[thm]{Algorithm}
\newtheorem{procedure}[thm]{Procedure}

\newtheorem{assumption}[thm]{Assumption}         %Less formal.
\newtheorem*{claim}{Claim}
\newtheorem{fact}[thm]{Fact}
\newtheorem{convention}[thm]{Convention}
%</tag2>
